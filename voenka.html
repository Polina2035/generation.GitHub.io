<<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Поколение К - Тест по постановке на воинский учет</title>
    <style>
        body {
            background-image: url('1-3.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-color: #ECE9E4;
            color: #952926;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .header-container {
            background-color: #f8f5f0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 10px;
        }
        .header h1 {
            font-size: 36px;
            margin-bottom: 5px;
        }
        .header h2 {
            font-size: 24px;
            margin-top: 0;
            margin-bottom: 10px;
        }
        .timer-container {
            background-color: #f8f5f0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .timer {
            font-size: 20px;
            font-weight: bold;
        }
        .question {
            background-color: #f8f5f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .question h3 {
            margin-top: 0;
        }
        .options {
            margin-left: 20px;
        }
        .option {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .option input[type="radio"] {
            margin-right: 10px;
        }
        .option label {
            padding: 5px;
            border-radius: 4px;
            transition: background-color 0.3s;
            flex-grow: 1;
        }
        .option label:hover {
            background-color: #952926;
            color: #ECE9E4;
        }
        .submit-btn {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 10px;
            background-color: #952926;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
        }
        .submit-btn:hover {
            background-color: #7a1f1c;
        }
        .home-btn {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 10px;
            background-color: #952926;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
        }
        .home-btn:hover {
            background-color: #7a1f1c;
        }
        .results {
            display: none;
            background-color: #f8f5f0;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        .wrong-answer {
            color: #d32f2f;
            margin-bottom: 15px;
        }
        .correct-answer {
            color: #388e3c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header-container">
        <div class="header">
            <h1>Поколение К</h1>
            <h2>Тест по постановке на воинский учет</h2>
        </div>
    </div>
    
    <div class="timer-container">
        <div class="timer" id="timer">00:00</div>
    </div>
    <form id="quiz-form">
        <!-- Вопрос 1 - Сортировка -->
        <div class="question">
            <h3>1. Поставь в правильном порядке действия, которые нужно сделать, чтобы встать на воинский учет:</h3>
            <ul id="sortable-list" class="sortable-list">
                <li class="sortable-item" data-value="2">Загрузить документы в ЛК: приписное, паспорт, временная прописка (для иногородних студентов)</li>
                <li class="sortable-item" data-value="3">Прийти в мобилизационное управление (по факультетам)</li>
                <li class="sortable-item" data-value="1">Для иногородних студентов: получить ЛИБО временная регистрация, ЛИБО договор об аренде квартиры</li>
                <li class="sortable-item" data-value="4">Получить справку формы №4</li>
                <li class="sortable-item" data-value="5">Идем в военкомат со справкой</li>
            </ul>
            <input type="hidden" id="q1" name="q1" value="">
        </div>
        
        <!-- Вопрос 2 -->
        <div class="question">
            <h3>2. Где находится мобилизационное управление для ФУ БТБ ФСТИГ ФЭИФ?</h3>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q2" id="q2a" value="a">
                    <label for="q2a">ул. Прилукская, д.3 ауд. 112</label>
                </div>
                <div class="option">
                    <input type="radio" name="q2" id="q2b" value="b">
                    <label for="q2b">наб. канала Грибоедова, д. 30/32 ауд. 2051</label>
                </div>
                <div class="option">
                    <input type="radio" name="q2" id="q2c" value="c">
                    <label for="q2c">Оба варианта верны</label>
                </div>
            </div>
        </div>
        
        <!-- Вопрос 3 -->
        <div class="question">
            <h3>3. Где находится мобилизационное управление для ФЭИФ ГФ ЮФ ФИПМ?</h3>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q3" id="q3a" value="a">
                    <label for="q3a">ул. Прилукская, д.3 ауд. 112</label>
                </div>
                <div class="option">
                    <input type="radio" name="q3" id="q3b" value="b">
                    <label for="q3b">наб. канала Грибоедова, д. 30/32 ауд. 2051</label>
                </div>
                <div class="option">
                    <input type="radio" name="q3" id="q3c" value="c">
                    <label for="q3c">Оба варианта верны</label>
                </div>
            </div>
        </div>
        
        <!-- Вопрос 4 -->
        <div class="question checkbox-question">
            <h3>4. Какие условия поступления на военное обучение?</h3>
            <div class="options">
                <div class="option">
                    <input type="checkbox" name="q4" id="q4a" value="a">
                    <label for="q4a">на 1, 2 курсе бакалавриата (очно)</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4b" value="b">
                    <label for="q4b">на 1, 2, 3 курсе специалитета (очно)</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4c" value="c">
                    <label for="q4c">бюджетная форма обучения</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4d" value="d">
                    <label for="q4d">контрактная форма обучения</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4e" value="e">
                    <label for="q4e">отсутствует академическая задолженность на момент подачи заявления</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4f" value="f">
                    <label for="q4f">постановка на воинский учет + отсрочка</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4g" value="g">
                    <label for="q4g">гражданин РФ</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4h" value="h">
                    <label for="q4h">18 лет на момент выхода приказа о допуске к обучению</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4i" value="i">
                    <label for="q4i">прописка (постоянная или временная) в СПБ или Ленобласти</label>
                </div>
                <div class="option">
                    <input type="checkbox" name="q4" id="q4j" value="j">
                    <label for="q4j">отсутствие татуировок на теле</label>
                </div>
            </div>
        </div>
        
        <button type="submit" class="submit-btn">Завершить тест</button>
    </form>
    
    <div id="results" class="results"></div>
    
    <a href="index.html" class="home-btn">На главную</a>
    
    <script>
        // Правильные ответы
        const correctAnswers = {
            q1: "1,2,3,4,5", // Правильный порядок для сортировки
            q2: "a",
            q3: "b",
            q4: ["a", "b", "e", "f", "g", "h", "i"] // Правильные варианты для чекбоксов
        };
        
        // Секундомер
        let seconds = 0;
        const timerElement = document.getElementById('timer');
        
        function updateTimer() {
            seconds++;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
        
        const timerInterval = setInterval(updateTimer, 1000);
        
        // Drag and Drop для сортировки
        const sortableList = document.getElementById('sortable-list');
        let draggedItem = null;
        
        sortableList.addEventListener('dragstart', function(e) {
            draggedItem = e.target;
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', e.target.innerHTML);
        });
        
        sortableList.addEventListener('dragover', function(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
            
            const afterElement = getDragAfterElement(sortableList, e.clientY);
            if (afterElement == null) {
                sortableList.appendChild(draggedItem);
            } else {
                sortableList.insertBefore(draggedItem, afterElement);
            }
        });
        
        sortableList.addEventListener('dragend', function(e) {
            e.target.classList.remove('dragging');
            updateSortableInput();
        });
        
        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.sortable-item:not(.dragging)')];
            
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                
                if (offset < 0 && offset > closest.offset) {
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }
        
        function updateSortableInput() {
            const items = sortableList.querySelectorAll('.sortable-item');
            const values = Array.from(items).map(item => item.getAttribute('data-value'));
            document.getElementById('q1').value = values.join(',');
        }
        
        // Инициализация значения сортировки
        updateSortableInput();
        
        // Обработка отправки формы
        document.getElementById('quiz-form').addEventListener('submit', function(e) {
            e.preventDefault();
            submitQuiz();
        });
        
        function submitQuiz() {
            clearInterval(timerInterval);
            
            // Скрыть форму
            document.getElementById('quiz-form').style.display = 'none';
            
            // Показать результаты
            const resultsDiv = document.getElementById('results');
            resultsDiv.style.display = 'block';
            
            // Проверить ответы
            let wrongAnswers = [];
            let score = 0;
            const totalQuestions = Object.keys(correctAnswers).length;
            
            // Проверка сортировки (вопрос 1)
            const userOrder = document.getElementById('q1').value;
            if (userOrder !== correctAnswers.q1) {
                wrongAnswers.push({
                    question: 1,
                    userAnswer: "Неправильный порядок",
                    correctAnswer: getCorrectOrderText()
                });
            } else {
                score++;
            }
            
            // Проверка радио-кнопок (вопросы 2-3)
            for (let i = 2; i <= 3; i++) {
                const questionName = `q${i}`;
                const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
                
                if (!selectedOption) {
                    wrongAnswers.push({
                        question: i,
                        userAnswer: "Нет ответа",
                        correctAnswer: getAnswerText(questionName, correctAnswers[questionName])
                    });
                } else if (selectedOption.value !== correctAnswers[questionName]) {
                    wrongAnswers.push({
                        question: i,
                        userAnswer: getAnswerText(questionName, selectedOption.value),
                        correctAnswer: getAnswerText(questionName, correctAnswers[questionName])
                    });
                } else {
                    score++;
                }
            }
            
            // Проверка чекбоксов (вопрос 4)
            const checkboxes = document.querySelectorAll('input[name="q4"]:checked');
            const selectedValues = Array.from(checkboxes).map(cb => cb.value);
            
            const correctQ4 = correctAnswers.q4;
            const isCorrect = selectedValues.length === correctQ4.length && 
                              selectedValues.every(val => correctQ4.includes(val));
            
            if (!isCorrect) {
                const correctLabels = correctQ4.map(val => getAnswerText("q4", val)).join(", ");
                const userLabels = selectedValues.map(val => getAnswerText("q4", val)).join(", ") || "Нет ответа";
                
                wrongAnswers.push({
                    question: 4,
                    userAnswer: userLabels,
                    correctAnswer: correctLabels
                });
            } else {
                score++;
            }
            
            // Отобразить результаты
            const percentage = Math.round((score / totalQuestions) * 100);
            
            let resultsHTML = `
                <div class="score">
                    Ваш результат: ${score} из ${totalQuestions} (${percentage}%)
                </div>
            `;
            
            if (wrongAnswers.length === 0) {
                resultsHTML += "<h3>Поздравляем! Все ответы правильные!</h3>";
            } else {
                resultsHTML += "<h3>Ошибки в следующих вопросах:</h3>";
                
                wrongAnswers.forEach(item => {
                    resultsHTML += `
                        <div class="wrong-answer">
                            <h4>Вопрос ${item.question}</h4>
                            <p>Ваш ответ: ${item.userAnswer}</p>
                            <p class="correct-answer">Правильный ответ: ${item.correctAnswer}</p>
                        </div>
                    `;
                });
            }
            
            resultsDiv.innerHTML = resultsHTML;
        }
        
        function getCorrectOrderText() {
            const correctOrder = correctAnswers.q1.split(',');
            const items = Array.from(sortableList.querySelectorAll('.sortable-item'));
            
            return correctOrder.map(num => {
                const item = items.find(el => el.getAttribute('data-value') === num);
                return item ? item.textContent.trim() : '';
            }).filter(Boolean).join(' → ');
        }
        
        function getAnswerText(questionName, value) {
            const questionDiv = document.querySelector(`input[name="${questionName}"][value="${value}"]`).closest('.question');
            const label = questionDiv.querySelector(`label[for="${questionName}${value}"]`);
            return label ? label.textContent.trim() : value;
        }
    </script>
</body>
</html>